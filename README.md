# Semester-simulator
A brute force simulator for simulating a semester game and calculating PNE for it.
To understand more about the noation, read the Report.pdf.
<br><br>
<hr>

### Instructions

```
git clone https://github.com/pratyanshupandey/Semester-simulator.git
cd Semester-simulator
```

Adjust the game configuration. Read the report to understand the limitations of the simulator.

```bash
./run.sh
```

<br>
<hr>

### Strategy Structure:

Each strategy by a student is represented by a vector where each element of the vector represents strategy of a course. Each element is a pair of the form (study partner, hours). If the student is studying alone,
then study partner is the student himself.

<br>

<hr>

### Code Structure:

1. main.cpp, simulator.h and simulator.cpp : This module is reponsible for simulating the game according to the configuration provided in "game_config.txt". Then it stores all the strategies in "strategies.txt", utilities for all the strategy profiles in "utilities.txt" and creates the nfg representation of the game in "game.nfg".

2. pne.cpp: This module is reponsible for finding the PNE and Very weakly dominant strategy for the game defined in "game.nfg" and stores it's output on "psne_output.txt".

3. maximal_psne.py: From all the psne's generated in "psne_output.txt" it finds the maximal one and prints it on the screen along with the utilities of each player. For each player the format of strategy is defined in the report.

4. makefile: builds the executables

5. run.sh: Running this takes care of everything. Just edit the configurations and run this.

<br>

<hr>

### Other Files and Formats:

1. Report.pdf: Must read to understand the notations.

2. game_config.txt: The configuration of the game.<br>
    Format:<br>
    N           -> No of students
    C           -> No of courses
    H           -> Total Hours
    grade_val   -> Grade valuations for each player
    fun_val     -> Fun valuations for each player
    lr          -> Learning rate. Each line corresponds to a player and has the player's learning rates for all the courses.
<br><br>

3. game.nfg: The file represents the game after simulation and getting all utility values.<br>
    Format:<br>
    The first line is the number of players.
    The second line is the number of strategies available to each player.
    The third line stores the utilities as defined in nfg format as defined [here](https://gambitproject.readthedocs.io/en/latest/formats.html#the-strategic-game-nfg-file-format-outcome-version).

<br><br>

4. psne_output.txt: Contains the output generated by pne.cpp.<br>
    Format:<br>
    First line contains the number of PSNEs.
    Followed by n psne lines, the ith line containing n space-separated numbers corresponding to the equilibrium strategies for each player respectively.
    Next are n lines, with the ith line listing the number of very weakly dominant strategies for the ith player followed by the dominant strategies.
<br><br>

5. strategies.txt: The strategy space available to each player according to the correct configuration.<br>
    Format:<br>
    Strategy_index -> according to the format defined above and in the report.
<br><br>

6. utilities.txt: The utilities for all possible profile of strategies.<br>
    Format:<br>
    Profile_index u1 u2 . . . un
    where u1 is the utility of player 1 when this profile gets played and so on. Mapping of profile indices to it's every player's strategy list equivalent can be done by converting the index to a number in base (size of strategy space available to a player). Now each number in this base is the strategy followed by the corresponding player.
<br><br>